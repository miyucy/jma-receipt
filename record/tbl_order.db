tbl_order {
	HOSPNUM			 	number(2,0);
	KARTE_KEY			varchar(36);
	ORDERNUM			number(2,0);
	NYUGAIKBN			char(1);
	PTNUM				char(20);
	PTID				number(10,0);
	SRYKA				char(2);
	SRYYMD				char(8);
	HKNCOMBI			number(4,0);
	ORDERID				char(4);
	UKEYMD   			char(8);
	UKEHMS   			char(6);
	ERRCD1				char(4);
	ERRCD2				char(4);
	STATUS				number(1,0);
	MODIFY				number(1,0);
	KEYGENERATE			number(1,0);
	RRKNUM				number(3,0);
	RRKEDANUM			number(3,0);
	TERMID   			varchar(16);
	OPID     			varchar(16);
	CREYMD   			char(8);
	UPYMD    			char(8);
	UPHMS				char(6);
#-----> ¸¡º÷ÍÑ¹àÌÜ
	SELSTUKEYMD			char(8),virtual;
	SELEDUKEYMD 	    char(8),virtual;
};
primary	{
	HOSPNUM,KARTE_KEY,ORDERNUM ;
};

path	key 	{
	DBSELECT	{
		DECLARE tbl_order_key_csr CURSOR FOR
		SELECT *
		FROM tbl_order
			WHERE HOSPNUM      =   :HOSPNUM
			AND   KARTE_KEY   =   :KARTE_KEY
			AND   ORDERNUM    =   :ORDERNUM
		;
	};
};

path	key2 	{
	DBSELECT	{
		DECLARE tbl_order_key2_csr CURSOR FOR
		SELECT *
		FROM tbl_order
			WHERE   HOSPNUM    =   :HOSPNUM
			AND     KARTE_KEY =   :KARTE_KEY
		;
	};
};

path	key3 	{
	DBSELECT	{
		DECLARE tbl_order_key3_csr CURSOR FOR
		SELECT *
		FROM tbl_order
		WHERE  HOSPNUM        = :HOSPNUM
		AND    UKEYMD        = :UKEYMD
		AND    STATUS        <> 3
		ORDER  BY  SRYYMD  ,UKEHMS ,KARTE_KEY ,ORDERNUM
		;
	};
};

path	key4 	{
	DBSELECT	{
		DECLARE tbl_order_key4_csr CURSOR FOR
		SELECT *
		FROM tbl_order
		WHERE  HOSPNUM        = :HOSPNUM
		AND    PTNUM         = :PTNUM
		AND    STATUS		 <> 3
		ORDER  BY  UKEYMD DESC,UKEHMS DESC,KARTE_KEY DESC,ORDERNUM DESC
		;
	};
};

path	key5 	{
	DBSELECT	{
		DECLARE tbl_order_key5_csr CURSOR FOR
		SELECT *
		FROM tbl_order
		WHERE  HOSPNUM        = :HOSPNUM
		AND    PTID          = :PTID
		AND    STATUS		 <>    3
		ORDER  BY  SRYYMD DESC,UKEYMD DESC,UKEHMS DESC,KARTE_KEY DESC,ORDERNUM DESC
		;
	};
};

path	upd1 	{
	DBUPDATE	{
		UPDATE  tbl_order
		SET     STATUS    =   3
		WHERE   HOSPNUM   =   :HOSPNUM
		AND     KARTE_KEY =   :KARTE_KEY
		AND     ORDERNUM  =   :ORDERNUM
		;
	};
};

path	key6 	{
	DBSELECT	{
		DECLARE tbl_order_key6_csr CURSOR FOR
		SELECT *
		FROM tbl_order
		WHERE  HOSPNUM        = :HOSPNUM
		AND    UKEYMD       >= :SELSTUKEYMD
		AND    UKEYMD       <= :SELEDUKEYMD
		;
	};
};

path	key7 	{
	DBSELECT	{
		DECLARE tbl_order_key7_csr CURSOR FOR
		SELECT *
		FROM tbl_order
		WHERE  HOSPNUM        = :HOSPNUM
		;
	};
};

path	all	{
	DBSELECT	{
		DECLARE tbl_order_all_csr CURSOR FOR
		SELECT *
		FROM tbl_order
		WHERE   HOSPNUM    =   :HOSPNUM
		;
	};
};

path	upd2 	{
	DBUPDATE	{
		UPDATE  tbl_order
		SET     PTNUM     =   :PTNUM
		WHERE   HOSPNUM   =   :HOSPNUM
		AND     PTID      =   :PTID
		;
	};
};


path	del1 	{
	DBDELETE	{
		DELETE
		FROM tbl_order
			WHERE   HOSPNUM    =   :HOSPNUM
			AND     PTID       =   :PTID
		;
	};
};
