tbl_rececom {
	HOSPNUM				number(2,0);
	PTID				number(10);
	NYUGAIKBN			char(1);
	SRYKA				char(2);
	SRYYM				char(6);
	HKNCOMBI			number(4);
	SRYDD				char(2);
	SJKBN				char(2);
	COMMENT        		varchar(1600);
	TERMID  			varchar(16);
	OPID    			varchar(16);
	CREYMD  			char(8);
	UPYMD    			char(8);
	UPHMS				char(6);
};
primary	{
	HOSPNUM,PTID,NYUGAIKBN,SRYKA,SRYYM,HKNCOMBI,SRYDD,SJKBN;
};

path	key		{ 	
	DBSELECT	{
		DECLARE tbl_rececom_key_csr CURSOR FOR
		SELECT *
		FROM tbl_rececom
			WHERE   HOSPNUM    =   :HOSPNUM
			AND     PTID      =   :PTID
			AND     NYUGAIKBN =   :NYUGAIKBN
			AND     SRYKA     =   :SRYKA
			AND     SRYYM     =   :SRYYM
			AND     HKNCOMBI  =   :HKNCOMBI
			AND     SRYDD     =   :SRYDD
			AND     SJKBN     =   :SJKBN
		;
	};
};

path	key1		{ 	
	DBSELECT	{
		DECLARE tbl_rececom_key1_csr CURSOR FOR
		SELECT *
		FROM tbl_rececom
			WHERE   HOSPNUM    =   :HOSPNUM
			AND     PTID      =   :PTID
			AND     SRYYM     =   :SRYYM
			AND     NYUGAIKBN =   :NYUGAIKBN
			ORDER BY HKNCOMBI,SRYDD
		;
	};
};

path	all	{ 	
	DBSELECT	{
		DECLARE tbl_rececom_all_csr CURSOR FOR
		SELECT *
		FROM tbl_rececom
			WHERE   HOSPNUM    =   :HOSPNUM
 		;
	};
};
path	key2		{ 	
	DBSELECT	{
		DECLARE tbl_rececom_key2_csr CURSOR FOR
		SELECT *
		FROM tbl_rececom
			WHERE   HOSPNUM    =   :HOSPNUM
			AND     PTID      =   :PTID
			AND     NYUGAIKBN =   :NYUGAIKBN
			ORDER   BY        SRYYM  DESC
		;
	};
};

path	key3		{ 	
	DBSELECT	{
		DECLARE tbl_rececom_key3_csr CURSOR FOR
		SELECT *
		FROM tbl_rececom
			WHERE   HOSPNUM    =   :HOSPNUM
			AND     PTID      =   :PTID
			AND     SRYYM     =   :SRYYM
			AND     NYUGAIKBN =   :NYUGAIKBN
			AND     SRYDD     =   :SRYDD
		;
	};
};

path	del1 	{
	DBDELETE	{
		DELETE
		FROM tbl_rececom
			WHERE   HOSPNUM    =   :HOSPNUM
			AND   PTID        =   :PTID
		;
	};
};

path	key4		{ 	
	DBSELECT	{
		DECLARE tbl_rececom_key4_csr CURSOR FOR
		SELECT *
		FROM tbl_rececom
			WHERE   HOSPNUM    =   :HOSPNUM
			AND     PTID      =   :PTID
			AND     NYUGAIKBN =   :NYUGAIKBN
			AND     SRYYM     =   :SRYYM
			AND     HKNCOMBI  =   :HKNCOMBI
			ORDER   BY        SRYKA
		;
	};
};
path	key5		{ 	
	DBSELECT	{
		DECLARE tbl_rececom_key5_csr CURSOR FOR
		SELECT *
		FROM tbl_rececom
			WHERE   HOSPNUM    =   :HOSPNUM
			AND     PTID      =   :PTID
			ORDER   BY        SRYYM  DESC,
                                          NYUGAIKBN,
                                          SRYKA,
                                          HKNCOMBI,
                                          SRYDD,
                                          SJKBN
		;
	};
};

path	key6		{ 	
	DBSELECT	{
		DECLARE tbl_rececom_key6_csr CURSOR FOR
		SELECT *
		FROM tbl_rececom
			WHERE   HOSPNUM    =   :HOSPNUM
			AND     PTID      =   :PTID
			AND     NYUGAIKBN =   :NYUGAIKBN
			AND     SRYKA     =   :SRYKA
			AND     SRYYM     =   :SRYYM
			AND     HKNCOMBI  =   :HKNCOMBI
                        AND     SRYDD     =   :SRYDD
			ORDER   BY        SJKBN
		;
	};
};

path	key7		{ 	
	DBSELECT	{
		DECLARE tbl_rececom_key7_csr CURSOR FOR
		SELECT *
		FROM tbl_rececom
			WHERE   HOSPNUM    =   :HOSPNUM
			AND     PTID      =   :PTID
			AND     SRYYM     =   :SRYYM
			AND     NYUGAIKBN =   :NYUGAIKBN
			AND     SJKBN     =   '99'
			ORDER BY HKNCOMBI,SRYDD
		;
	};
};

path	key8		{ 	
	DBSELECT	{
		DECLARE tbl_rececom_key8_csr CURSOR FOR
		SELECT *
		FROM tbl_rececom
			WHERE   HOSPNUM    =   :HOSPNUM
			AND     PTID      =   :PTID
			AND     SRYYM     =   :SRYYM
			AND     NYUGAIKBN =   :NYUGAIKBN
			AND     SJKBN     <   '07'
			ORDER BY SJKBN,HKNCOMBI,SRYDD
		;
	};
};

path	key9		{ 	
	DBSELECT	{
		DECLARE tbl_rececom_key9_csr CURSOR FOR
		SELECT *
		FROM tbl_rececom
			WHERE   HOSPNUM    =   :HOSPNUM
			AND     PTID      =   :PTID
			AND     SRYYM     =   :SRYYM
			AND     NYUGAIKBN =   :NYUGAIKBN
			AND     SJKBN     >=  '07'
			AND     SJKBN     <=  '09'
			ORDER BY HKNCOMBI,SJKBN,SRYDD
		;
	};
};


path	key10		{ 	
	DBSELECT	{
		DECLARE tbl_rececom_key10_csr CURSOR FOR
		SELECT *
		FROM tbl_rececom
			WHERE   HOSPNUM    =   :HOSPNUM
			AND     PTID      =   :PTID
			AND     SRYYM     =   :SRYYM
			AND     NYUGAIKBN =   :NYUGAIKBN
			ORDER BY HKNCOMBI,SJKBN
		;
	};
};


path	key11		{ 	
	DBSELECT	{
		DECLARE tbl_rececom_key11_csr CURSOR FOR
		SELECT *
		FROM tbl_rececom
			WHERE   HOSPNUM    =   :HOSPNUM
			AND     PTID      =   :PTID
			AND     SRYYM     =   :SRYYM
			AND     NYUGAIKBN =   :NYUGAIKBN
			AND     SRYDD     =   :SRYDD
			ORDER BY HKNCOMBI,SJKBN
		;
	};
};

path	del2 	{
	DBDELETE	{
		DELETE
		FROM tbl_rececom
			WHERE   HOSPNUM    =   :HOSPNUM
			AND     PTID      =   :PTID
			AND     NYUGAIKBN =   :NYUGAIKBN
			AND     SRYKA     =   :SRYKA
			AND     SRYYM     =   :SRYYM
			AND     HKNCOMBI  =   :HKNCOMBI
                        AND     SRYDD     =   :SRYDD
		;
	};
};

path	key12		{ 	
	DBSELECT	{
		DECLARE tbl_rececom_key12_csr CURSOR FOR
		SELECT *
		FROM tbl_rececom
			WHERE   HOSPNUM    =   :HOSPNUM
			AND     PTID      =   :PTID
			AND     SRYYM     =   :SRYYM
			AND     NYUGAIKBN =   :NYUGAIKBN
			AND     SJKBN     >=  '50'
			AND     SJKBN     <=  '51'
			ORDER BY HKNCOMBI,SJKBN,SRYDD
		;
	};
};

