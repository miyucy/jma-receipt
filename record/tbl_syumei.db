tbl_syumei {
	HOSPID				char(24);
	NYUGAIKBN			char(1);
	PTID				number(10,0);
	DENPNUM          		number(7,0);
	DENPEDANUM			number(2,0);
	NYUKINRENNUM			number(3,0);
	SRYKA				char(2);
	MEISAIJOUTAIKBN                 char(1);
	SKY_PRINTYMD			char(8);
	SKY_REPRINTYMD			char(8);
	RYOSYU_PRINTYMD			char(8);
	RYOSYU_REPRINTYMD		char(8);
	SKYMONEY			number(7,0);
	NYUHEN_KBN			char(1);
	NYUHEN_MONEY			number(7,0);
	NYUHEN_YMD			char(8);
	NYUKIN_HOHO			char(2);
	JOUTAIKBN			char(1);
	TERMID  			varchar(16);
	OPID    			varchar(16);
	CREYMD  			char(8);
	UPYMD    			char(8);
	UPHMS				char(6);
};
primary	{
	HOSPID,NYUGAIKBN,PTID,DENPNUM,DENPEDANUM;
};

path	key 	{
	DBSELECT	{
		DECLARE tbl_syumei_key_csr CURSOR FOR
		SELECT *
		FROM tbl_syumei
			WHERE   HOSPID        =  :HOSPID
			AND   NYUGAIKBN       =  :NYUGAIKBN
			AND   PTID            =  :PTID
			AND   DENPNUM         =  :DENPNUM
			AND   DENPEDANUM      =  :DENPEDANUM
		;
	};
};

path	key2 	{
	DBSELECT	{
		DECLARE tbl_syumei_key2_csr CURSOR FOR
		SELECT *
		FROM tbl_syumei
			WHERE   HOSPID        =  :HOSPID
			AND   NYUGAIKBN       =  :NYUGAIKBN
			AND   PTID            =  :PTID
			AND   DENPNUM         =  :DENPNUM
		;
	};
};

path	key3 	{
	DBSELECT	{
		DECLARE tbl_syumei_key3_csr CURSOR FOR
		SELECT *
		FROM tbl_syumei
			WHERE   HOSPID        =  :HOSPID
			AND   NYUGAIKBN       =  :NYUGAIKBN
			AND   PTID            =  :PTID
		;
	};
};

path	all 	{
	DBSELECT	{
		DECLARE tbl_syumei_all_csr CURSOR FOR
		SELECT *
		FROM tbl_syumei
		;
	};
};

path	del1 	{
	DBDELETE	{
		DELETE
		FROM tbl_syumei
			WHERE   HOSPID    =   :HOSPID
			AND   PTID        =   :PTID
		;
	};
};

path	del2 	{
	DBDELETE	{
		DELETE
		FROM tbl_syumei
			WHERE   HOSPID        =  :HOSPID
			AND   NYUGAIKBN       =  :NYUGAIKBN
			AND   PTID            =  :PTID
			AND   DENPNUM         =  :DENPNUM
		;
	};
};

path	key4 	{
	DBSELECT	{
		DECLARE tbl_syumei_key4_csr CURSOR FOR
		SELECT a.*
		FROM tbl_syumei a,tbl_ptnum b,tbl_ptinf c
			WHERE   a.HOSPID        =  :HOSPID
			AND     a.NYUGAIKBN     =  :NYUGAIKBN
			AND     a.NYUHEN_YMD    =  :NYUHEN_YMD
			AND     a.HOSPID        =  b.HOSPID
			AND     a.PTID          =  b.PTID
			AND     a.HOSPID        =  c.HOSPID
			AND     a.PTID          =  c.PTID
			AND     c.TSTPTNUMKBN  <> '1'
			ORDER   BY a.SRYKA,b.PTNUM,a.DENPNUM,a.DENPEDANUM
		;
	};
};

path	key5	{
	DBSELECT	{
		DECLARE tbl_syumei_key5_csr CURSOR FOR
		SELECT *
		FROM tbl_syumei
			WHERE   HOSPID        =  :HOSPID
                        AND     NYUGAIKBN     =  :NYUGAIKBN
			AND   DENPNUM         =  :DENPNUM
			AND   DENPEDANUM      <  :DENPEDANUM
                        ORDER BY	DENPEDANUM
		;
	};
};

path	key6 	{
	DBSELECT	{
		DECLARE tbl_syumei_key6_csr CURSOR FOR
		SELECT *
		FROM tbl_syumei
			WHERE   HOSPID        =  :HOSPID
			AND   NYUGAIKBN       =  :NYUGAIKBN
			AND   PTID            =  :PTID
			AND   DENPNUM         =  :DENPNUM
                        ORDER BY	DENPEDANUM
		;
	};
};

#sitekey
path	st_key1 	{
	DBSELECT	{
		DECLARE tbl_syumei_st_key1_csr CURSOR FOR
        SELECT *
		FROM tbl_syumei
        		WHERE   HOSPID        =  :HOSPID
                AND     NYUHEN_YMD    =  :NYUHEN_YMD
        ORDER BY	NYUGAIKBN,SRYKA,DENPNUM,DENPEDANUM
		;
	};
};

#sitekey
path	st_key2 	{
	DBSELECT	{
		DECLARE tbl_syumei_st_key2_csr CURSOR FOR
		SELECT *
		FROM tbl_syumei
			WHERE   HOSPID        =  :HOSPID
            AND     NYUHEN_YMD    =  :NYUHEN_YMD
            ORDER BY	NYUGAIKBN,SRYKA,PTID,DENPNUM,DENPEDANUM
		;
	};
};
