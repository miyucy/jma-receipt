tbl_ptteikirrk {
       HOSPID          char(24);
       PTID            number(10);
       SRYYM           char(6);
       SAKKBN          char(1);
       HKNCOMBINUM     number(4);
       SKYSTYMD        char(8);
       SKYEDYMD        char(8);
       SKYTEN          number(9);
       SKYMONEY_TAX_SAI
                       number(7);
       SKYMONEY        number(9);
       RRKNUM          number(03);
       DENPNUM         number(07);
       SKYUPDFLG       number(01);
       TERMID          varchar(16);
       OPID            varchar(16);
       CREYMD          varchar(8);
       UPYMD           varchar(8);
       UPHMS           varchar(6);
};

primary	{
	HOSPID,PTID,SRYYM,SAKKBN,HKNCOMBINUM;
};

path	key		{ 	
	DBSELECT	{
		DECLARE tbl_ptteikirrk_key_csr CURSOR FOR
		SELECT *
		FROM tbl_ptteikirrk
        WHERE  
               HOSPID  =   :HOSPID
        AND    PTID    =   :PTID
        AND    SRYYM   =   :SRYYM
        AND    SAKKBN  =   :SAKKBN
        AND    HKNCOMBINUM = :HKNCOMBINUM
		;
	};
};

path	key2		{ 	
	DBSELECT	{
		DECLARE tbl_ptteikirrk_key2_csr CURSOR FOR
		SELECT *
		FROM tbl_ptteikirrk
        WHERE  HOSPID  =   :HOSPID
        AND    PTID    =   :PTID
        AND    SRYYM   =   :SRYYM
        		;
	};
};

path	key3		{ 	
	DBSELECT	{
		DECLARE tbl_ptteikirrk_key3_csr CURSOR FOR
		SELECT *
		FROM tbl_ptteikirrk
        WHERE  HOSPID  =   :HOSPID
        AND    PTID    =   :PTID
		ORDER  BY  SKYEDYMD DESC
		;
	};
};

path	key4		{ 	
	DBSELECT	{
		DECLARE tbl_ptteikirrk_key4_csr CURSOR FOR
		SELECT *
		FROM tbl_ptteikirrk
        WHERE  HOSPID  =   :HOSPID
        AND    PTID    =   :PTID
		AND    SKYSTYMD   >= :SKYSTYMD
		AND    SKYEDYMD   <= :SKYEDYMD
		;
	};
};

path	key5		{ 	
	DBSELECT	{
		DECLARE tbl_ptteikirrk_key5_csr CURSOR FOR
		SELECT *
		FROM tbl_ptteikirrk
        WHERE  HOSPID  =   :HOSPID
        AND    SRYYM   =   :SRYYM
        AND    SAKKBN  LIKE :SAKKBN
		;
	};
};

path	all		{ 	
	DBSELECT	{
		DECLARE tbl_ptteikirrk_all_csr CURSOR FOR
		SELECT *
		FROM tbl_ptteikirrk
		;
	};
};

path	del1		{ 	
	DBDELETE	{
		DELETE
		FROM tbl_ptteikirrk
        WHERE  HOSPID  =   :HOSPID
        AND    PTID    =   :PTID
		;
	};
};

path	del2		{ 	
	DBDELETE	{
		DELETE
		FROM tbl_ptteikirrk
        WHERE  HOSPID  =   :HOSPID
        AND    PTID    =   :PTID
		AND    SKYSTYMD   >= :SKYSTYMD
		AND    SKYEDYMD   <= :SKYEDYMD
		;
	};
};

path	all2		{ 	
	DBSELECT	{
		DECLARE tbl_ptteikirrk_all2_csr CURSOR FOR
		SELECT *
		FROM tbl_ptteikirrk
        WHERE  SRYYM  =   :SRYYM
		;
	};
};

path	key6		{ 	
	DBSELECT	{
		DECLARE tbl_ptteikirrk_key6_csr CURSOR FOR
		SELECT *
		FROM tbl_ptteikirrk
        WHERE  
               HOSPID  =   :HOSPID
        AND    PTID    =   :PTID
        AND    DENPNUM =   :DENPNUM
		;
	};
};


path	key7		{ 	
	DBSELECT	{
		DECLARE tbl_ptteikirrk_key7_csr CURSOR FOR
		SELECT *
		FROM tbl_ptteikirrk
        WHERE  
               HOSPID  =   :HOSPID
        AND    PTID    =   :PTID
        AND    RRKNUM  =   :RRKNUM
		ORDER  BY  SKYEDYMD DESC
		;
	};
};
