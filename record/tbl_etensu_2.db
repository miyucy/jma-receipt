tbl_etensu_2 {
	H_GROUP 			varchar(7);
	SRYCD				char(9);
	YUKOSTYMD			char(8);
	YUKOEDYMD			char(8);
	CHGYMD   			char(8);
#-----> åüçıÉLÅ[çÄñ⁄
	HOSPNUM				number(2,0),virtual;
	SRYKBN				char(2),virtual;
	SRYSYUKBN			char(3),virtual;
	SRYKBN2				char(2),virtual;
	SRYSYUKBN2			char(3),virtual;
};
primary	{
	H_GROUP,SRYCD,YUKOSTYMD,YUKOEDYMD;
};

path	key 	{
	DBSELECT	{
		DECLARE tbl_etensu_2_key_csr CURSOR FOR
		SELECT *
		FROM tbl_etensu_2
		WHERE   H_GROUP  =   :H_GROUP
		AND     SRYCD    =   :SRYCD
 		AND   YUKOSTYMD  <=  :YUKOSTYMD
		AND   YUKOEDYMD  >=  :YUKOEDYMD
		;
	};
};

path	key2 	{
	DBSELECT	{
		DECLARE tbl_etensu_2_key2_csr CURSOR FOR
		SELECT  *
		FROM tbl_etensu_2
		WHERE 	H_GROUP      = :H_GROUP
		AND	YUKOSTYMD  >=  :YUKOSTYMD
		AND	YUKOEDYMD  <=  :YUKOEDYMD
			ORDER   BY SRYCD,
				   YUKOSTYMD
		;
	};
};

path	key3 	{
	DBSELECT	{
		DECLARE tbl_etensu_2_key3_csr CURSOR FOR
		SELECT a.*
		FROM tbl_etensu_2 a,tbl_tensu b
		WHERE 	a.H_GROUP      = :H_GROUP
		AND	a.YUKOSTYMD  >=  :YUKOSTYMD
		AND	a.YUKOEDYMD  <=  :YUKOEDYMD
		AND     a.SRYCD       =  b.SRYCD 
		AND     b.HOSPNUM     =  :HOSPNUM 
		AND   ( b.SRYKBN    >=  :SRYKBN    AND
			b.SRYKBN    <=  :SRYKBN2 )
		AND	a.YUKOSTYMD  >=  b.YUKOSTYMD
		AND	a.YUKOEDYMD  <=  b.YUKOEDYMD
			ORDER   BY  b.CDKBN_KBN,
                                    b.CDKBN_KBNNUM,
                                    a.SRYCD,
				    a.YUKOSTYMD
		;
	};
};

path	key4	{
	DBSELECT	{
		DECLARE tbl_etensu_2_key4_csr CURSOR FOR
		SELECT a.*
		FROM tbl_etensu_2 a,tbl_tensu b
		WHERE 	a.H_GROUP      = :H_GROUP
		AND	a.YUKOSTYMD  >=  :YUKOSTYMD
		AND	a.YUKOEDYMD  <=  :YUKOEDYMD
		AND     a.SRYCD       =  b.SRYCD 
		AND     b.HOSPNUM     =  :HOSPNUM 
		AND  (( b.SRYKBN    >=  :SRYKBN    AND
			b.SRYKBN    <=  :SRYKBN2 )
		OR    ( b.SRYSYUKBN  >= :SRYSYUKBN  AND
		        b.SRYSYUKBN  <= :SRYSYUKBN2))
		AND	a.YUKOSTYMD  >=  b.YUKOSTYMD
		AND	a.YUKOEDYMD  <=  b.YUKOEDYMD
			ORDER   BY  b.CDKBN_KBN,
                                    b.CDKBN_KBNNUM,
                                    a.SRYCD,
				    a.YUKOSTYMD
		;
	};
};

path	key5	{
	DBSELECT	{
		DECLARE tbl_etensu_2_key5_csr CURSOR FOR
		SELECT a.*
		FROM tbl_etensu_2 a,tbl_tensu b
		WHERE 	a.H_GROUP      = :H_GROUP
		AND	a.YUKOSTYMD  >=  :YUKOSTYMD
		AND	a.YUKOEDYMD  <=  :YUKOEDYMD
		AND     a.SRYCD       =  b.SRYCD 
		AND     b.HOSPNUM     =  :HOSPNUM 
		AND   ( b.SRYSYUKBN   = :SRYSYUKBN  OR
		        b.SRYSYUKBN   = :SRYSYUKBN2)
		AND	a.YUKOSTYMD  >=  b.YUKOSTYMD
		AND	a.YUKOEDYMD  <=  b.YUKOEDYMD
			ORDER   BY  b.CDKBN_KBN,
                                    b.CDKBN_KBNNUM,
                                    a.SRYCD,
				    a.YUKOSTYMD
		;
	};
};

path	all	{
	DBSELECT	{
		DECLARE tbl_etensu_2_all_csr CURSOR FOR
		SELECT *
		FROM tbl_etensu_2
			ORDER   BY  H_GROUP,
				    SRYCD,
				    YUKOSTYMD
 		;
	};
};
