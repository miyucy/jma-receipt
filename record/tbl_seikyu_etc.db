tbl_seikyu_etc	{
HOSPNUM				number(2,0);
SRYYM				number(6);
NYUGAIKBN			char(1);
PTID				number(10);
RECEKA				char(2);
TEISYUTUSAKI			number(1,0);
RECESYUBETU			char(4);
HKNJANUM			char(8);
HOJOKBN_KEY     		char(1);
TEKSTYMD			char(8);
ETC_KOHNUM1          		char(3);
ETC_KOHNUM2          		char(3);
ETC_KOHNUM3          		char(3);
ETC_KOHNUM4          		char(3);
ETC_JNISSU1	       		number(2,0);
ETC_JNISSU2	       		number(2,0);
ETC_JNISSU3	       		number(2,0);
ETC_JNISSU4	       		number(2,0);
ETC_TOTALTEN1        		number(8,0);
ETC_TOTALTEN2        		number(8,0);
ETC_TOTALTEN3        		number(8,0);
ETC_TOTALTEN4        		number(8,0);
ETC_FTNMONEY1        		number(9,0);
ETC_FTNMONEY_FTN1      		number(9,0);
ETC_FTNMONEY_KOJ1      		number(9,0);
ETC_FTNMONEY2        		number(9,0);
ETC_FTNMONEY_FTN2      		number(9,0);
ETC_FTNMONEY_KOJ2      		number(9,0);
ETC_FTNMONEY3        		number(9,0);
ETC_FTNMONEY_FTN3      		number(9,0);
ETC_FTNMONEY_KOJ3      		number(9,0);
ETC_FTNMONEY4        		number(9,0);
ETC_FTNMONEY_FTN4      		number(9,0);
ETC_FTNMONEY_KOJ4      		number(9,0);
ETC_YKZFTN1 			number(5,0);
ETC_YKZFTN2 			number(5,0);
ETC_YKZFTN3 			number(5,0);
ETC_YKZFTN4 			number(5,0);
ETC_SHOKUJINISSU1       	number(2,0);
ETC_SHOKUJIRYOYOHI1     	number(9,0);
ETC_SHOKUJIFTN1 	        number(9,0);
ETC_SHOKUJINISSU2       	number(2,0);
ETC_SHOKUJIRYOYOHI2     	number(9,0);
ETC_SHOKUJIFTN2 		number(9,0);
ETC_SHOKUJINISSU3       	number(2,0);
ETC_SHOKUJIRYOYOHI3     	number(9,0);
ETC_SHOKUJIFTN3 		number(9,0);
ETC_SHOKUJINISSU4       	number(2,0);
ETC_SHOKUJIRYOYOHI4     	number(9,0);
ETC_SHOKUJIFTN4 		number(9,0);
#-----> ¸¡º÷ÍÑ¹àÌÜ
XXTEISYUTUSAKI			number(1,0),virtual;
};

primary	{
	HOSPNUM,SRYYM,NYUGAIKBN,PTID,RECEKA,TEISYUTUSAKI,RECESYUBETU,HKNJANUM,HOJOKBN_KEY,TEKSTYMD;
};

path	key		{ 	
	DBSELECT	{
		DECLARE tbl_seikyu_etc_key_csr CURSOR FOR
		SELECT *
		FROM tbl_seikyu_etc
                WHERE   HOSPNUM      =   :HOSPNUM
                  AND   SRYYM       =   :SRYYM
                  AND   NYUGAIKBN   =   :NYUGAIKBN
                  AND   PTID        =   :PTID
                  AND   RECEKA      =   :RECEKA 
                  AND   TEISYUTUSAKI =  :TEISYUTUSAKI
                  AND   RECESYUBETU =   :RECESYUBETU
                  AND   HKNJANUM    =   :HKNJANUM
                  AND   HOJOKBN_KEY =   :HOJOKBN_KEY
                  AND   TEKSTYMD    =   :TEKSTYMD
		;
	};
};

path	del		{ 	
	DBDELETE	{
		DELETE
		FROM tbl_seikyu_etc
                WHERE   HOSPNUM      =   :HOSPNUM
                  AND   SRYYM       =   :SRYYM
                  AND   NYUGAIKBN   =   :NYUGAIKBN
                  AND   PTID        =   :PTID
                  AND   RECEKA      =   :RECEKA 
                  AND   TEISYUTUSAKI =  :TEISYUTUSAKI
                  AND   RECESYUBETU =   :RECESYUBETU
                  AND   HKNJANUM    =   :HKNJANUM
                  AND   HOJOKBN_KEY =   :HOJOKBN_KEY
                  AND   TEKSTYMD    =   :TEKSTYMD
		;
	};
};

path	del1 	{
	DBDELETE	{
		DELETE
		FROM tbl_seikyu_etc
			WHERE   HOSPNUM    =   :HOSPNUM
			AND   PTID        =   :PTID
		;
	};
};


path	del3 	{
	DBDELETE	{
		DELETE
		FROM tbl_seikyu_etc
		WHERE (HOSPNUM,SRYYM,NYUGAIKBN,PTID,RECEKA,TEISYUTUSAKI,RECESYUBETU,HKNJANUM,HOJOKBN_KEY,TEKSTYMD) in (
		SELECT HOSPNUM,SRYYM,NYUGAIKBN,PTID,RECEKA,TEISYUTUSAKI,RECESYUBETU,HKNJANUM,HOJOKBN_KEY,TEKSTYMD
		FROM tbl_seikyu_main
                WHERE   HOSPNUM       =   :HOSPNUM
                  AND   SRYYM        =   :SRYYM
                  AND   TEISYUTUSAKI =   :TEISYUTUSAKI
                  AND   SKYKBN       <>  '0' 
                );
	};
};

path	del4 	{
	DBDELETE	{
		DELETE
		FROM tbl_seikyu_etc
		WHERE (HOSPNUM,SRYYM,NYUGAIKBN,PTID,RECEKA,TEISYUTUSAKI,RECESYUBETU,HKNJANUM,HOJOKBN_KEY,TEKSTYMD) in (
		SELECT HOSPNUM,SRYYM,NYUGAIKBN,PTID,RECEKA,TEISYUTUSAKI,RECESYUBETU,HKNJANUM,HOJOKBN_KEY,TEKSTYMD
		FROM tbl_seikyu_main
                WHERE   HOSPNUM     =   :HOSPNUM
                  AND   SRYYM       =   :SRYYM
                  AND   NYUGAIKBN   =   :NYUGAIKBN
                  AND   PTID        =   :PTID
                  AND   SKYKBN      <>  '0' 
                  AND ( TEISYUTUSAKI =  :TEISYUTUSAKI  OR
                        TEISYUTUSAKI =  :XXTEISYUTUSAKI )
		) ;
	};
};

path	del6 	{
	DBDELETE	{
		DELETE
		FROM tbl_seikyu_etc
		WHERE (HOSPNUM,SRYYM,NYUGAIKBN,PTID,RECEKA,TEISYUTUSAKI,RECESYUBETU,HKNJANUM,HOJOKBN_KEY,TEKSTYMD) in (
		SELECT HOSPNUM,SRYYM,NYUGAIKBN,PTID,RECEKA,TEISYUTUSAKI,RECESYUBETU,HKNJANUM,HOJOKBN_KEY,TEKSTYMD
		FROM tbl_seikyu_main
                WHERE   HOSPNUM       =   :HOSPNUM
                  AND   SRYYM        =   :SRYYM
                  AND   NYUGAIKBN    =   :NYUGAIKBN
                  AND   TEISYUTUSAKI =   :TEISYUTUSAKI
                  AND   SKYKBN       <>  '0' 
		);
	};
};
path    del7    {
        DBDELETE        {
                DELETE
                FROM tbl_seikyu_etc
                WHERE   HOSPNUM      =   :HOSPNUM
                  AND   SRYYM       =   :SRYYM
                  AND   NYUGAIKBN   =   :NYUGAIKBN
                  AND   PTID        =   :PTID
                  AND ( TEISYUTUSAKI =  :TEISYUTUSAKI  OR
                        TEISYUTUSAKI =  :XXTEISYUTUSAKI )
                ;
        };
};

path	all	{
	DBSELECT	{
		DECLARE tbl_seikyu_etc_all_csr CURSOR FOR
		SELECT *
		FROM tbl_seikyu_etc
			WHERE   HOSPNUM    =   :HOSPNUM
		;
	};
};

path	all2	{
	DBSELECT	{
		DECLARE tbl_seikyu_etc_all2_csr CURSOR FOR
		SELECT *
		FROM tbl_seikyu_etc
			WHERE   HOSPNUM    =   :HOSPNUM
			AND   SRYYM    =   :SRYYM
		;
	};
};
