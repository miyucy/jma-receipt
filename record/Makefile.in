top_srcdir = @top_srcdir@
include $(top_srcdir)/Makefile.directories

INSTALL = @INSTALL@
INSTALL_DATA = @INSTALL_DATA@

RECORD_files = \
	C02.rec \
	C03.rec \
	C04.rec \
	C05.rec \
	C09.rec \
	C10.rec \
	C11.rec \
	CERR.rec \
	CID1.rec \
	CID2.rec \
	CID3.rec \
	CID4.rec \
	D01.rec \
	D99.rec \
	DERR.rec \
	DID1.rec \
	DID2.rec \
	E01.rec \
	E02.rec \
	EERR.rec \
	EID1.rec \
	EID2.rec \
	F01.rec \
	FERR.rec \
	FID1.rec \
	FID2.rec \
	G01.rec \
	G02.rec \
	G99.rec \
	GERR.rec \
	GID1.rec \
	GID2.rec \
	H01.rec \
	H02.rec \
	H99.rec \
	HERR.rec \
	HID1.rec \
	I01.rec \
	I02.rec \
	I03.rec \
	I04.rec \
	I0ERR.rec \
	I0ID1.rec \
	I0ID2.rec \
	I20.rec \
	I21.rec \
	I2ERR.rec \
	I2ID1.rec \
	I41.rec \
	I42.rec \
	I44.rec \
	I48.rec \
	I49.rec \
	I4ERR.rec \
	I4ID1.rec \
	I51.rec \
	I5ERR.rec \
	I5ID1.rec \
	J01.rec \
	J02.rec \
	J021.rec \
	J022.rec \
	J03.rec \
	J04.rec \
	J041.rec \
	J042.rec \
	J98.rec \
	J99.rec \
	JERR.rec \
	JID1.rec \
	K01.rec \
	K02.rec \
	K021.rec \
	K023.rec \
	K02N.rec \
	K03.rec \
	K03X.rec \
	K04.rec \
	K05.rec \
	K051.rec \
	K052.rec \
	K06.rec \
	K07.rec \
	K08.rec \
	K09.rec \
	K10.rec \
	K98.rec \
	K99.rec \
	KERR.rec \
	KERR2.rec \
	KID1.rec \
	KID2.rec \
	L01.rec \
	L02.rec \
	L99.rec \
	LERR.rec \
	LID1.rec \
	LID2.rec \
	M00.rec \
	M01.rec \
	M01N.rec \
	M02.rec \
	M95.rec \
	M96.rec \
	MERR.rec \
	MID1.rec \
	MVER.rec \
	N01.rec \
	N11.rec \
	N11ERR.rec \
	N11ID1.rec \
	N21.rec \
	N21ERR.rec \
	N21ID1.rec \
	NERR.rec \
	NID1.rec \
	O01.rec \
	O02.rec \
	O03.rec \
	O99.rec \
	OERR.rec \
	OID1.rec \
	OID2.rec \
	P014.rec \
	P02.rec \
	P0201.rec \
	P02A.rec \
	P02D.rec \
	P02E.rec \
	P02F.rec \
	P02X.rec \
	P100.rec \
	P97.rec \
	P97ERR.rec \
	P98.rec \
	P981.rec \
	P982.rec \
	PERR.rec \
	PID1.rec \
	Q01.rec \
	Q02.rec \
	Q100.rec \
	Q96.rec \
	Q97.rec \
	Q98.rec \
	Q99.rec \
	QERR.rec \
	QID1.rec \
	R01.rec \
	R02.rec \
	R03.rec \
	R04.rec \
	R96.rec \
	R97.rec \
	R98.rec \
	R99.rec \
	RERR.rec \
	RID1.rec \
	RID2.rec \
	RID3.rec \
	RID4.rec \
	S02.rec \
	S03.rec \
	SERR.rec \
	SID1.rec \
	T01.rec \
	T02.rec \
	T03.rec \
	T04.rec \
	T05.rec \
	T06.rec \
	T07.rec \
	T08.rec \
	T09.rec \
	T98.rec \
	T99.rec \
	TERR.rec \
	TID1.rec \
	TID2.rec \
	TID3.rec \
	U01.rec \
	U02.rec \
	U02X.rec \
	U1ERR.rec \
	U2ERR.rec \
	V01.rec \
	V02.rec \
	V03.rec \
	VERR.rec \
	VID1.rec \
	W01.rec \
	W02.rec \
	W03.rec \
	W04.rec \
	W05.rec \
	W06.rec \
	W07.rec \
	W08.rec \
	W09.rec \
	W10.rec \
	W11.rec \
	W12.rec \
	W13.rec \
	W14.rec \
	W15.rec \
	W16.rec \
	W18.rec \
	W20.rec \
	W201.rec \
	W21.rec \
	W22.rec \
	W23.rec \
	W24.rec \
	W25.rec \
	W28.rec \
	W98.rec \
	W99.rec \
	WERR.rec \
	WID1.rec \
	WID2.rec \
	X01.rec \
	X02.rec \
	X98.rec \
	XA01.rec \
	XA99.rec \
	XAERR.rec \
	XAID1.rec \
	XAID2.rec \
	XB01.rec \
	XBER.rec \
	XBID.rec \
	XERR.rec \
	XID1.rec \
	XC01.rec \
	XC99.rec \
	XCERR.rec \
	Y01.rec \
	Y03.rec \
	Y04.rec \
	YERR.rec \
	Z01.rec \
	Z02.rec \
	Z03.rec \
	Z04.rec \
	Z05.rec \
	Z06.rec \
	Z90.rec \
	Z91.rec \
	Z97.rec \
	Z98.rec \
	Z99.rec \
	ZERR.rec \
	ZID1.rec \
	ZID2.rec \
	ZID3.rec \
	mcpspa.rec \
	orcalink.rec \
	orcaspa.rec \
        S04.rec \
        U1ID1.rec \
        Z07.rec \
        I22.rec \
        I23.rec \
        M97.rec \
        S06.rec \
	X91.rec \
	X97.rec \
	XID2.rec \
	X03.rec \
	W17.rec \
	K97.rec \
	J025.rec \
	N31.rec \
	N31ERR.rec \
	N31ID1.rec \
	JID2.rec \
	P015.rec \
	I05.rec \
	W29.rec \
	G03.rec \
	L03.rec \
	W19.rec \
	S99.rec \
	SID2.rec \
	J026.rec \
	O04.rec \
	KHELP.rec \
	N41.rec \
	N41ERR.rec \
	N41ID1.rec \
	X04.rec \
	W30.rec \
	W60.rec \
	K081.rec \
	I06.rec \
	W61.rec \
	L04.rec \
	W97.rec \
	Y05.rec \
	XD01.rec \
	XDERR.rec \
	XDID1.rec \
        KA01.rec \
        KAERR.rec \
        KAID1.rec \
        KAID2.rec \
        X05.rec \
	O05.rec \
	R05.rec \
	N22.rec \
	OID3.rec \
	P02S.rec \
	W111.rec \
	W62.rec \
	N21ID2.rec \
	N23.rec \
	N29.rec \
	W63.rec \
	C50.rec \
	C501.rec \
	C50ERR.rec \
	C50ID1.rec \
	C99.rec \
	CID5.rec \
	I47.rec \
	W31.rec \
	Q03.rec \
	M98.rec \
	JERR2.rec \
	R06.rec \
	W981.rec \
	XE01.rec \
	X99.rec \
	X100.rec \
	P02Q.rec \
	P02Q1.rec \
	U02Q.rec \
	C12.rec \
	D02.rec \
	W121.rec \
	W32.rec \
	XA02.rec \
	W33.rec \
	XC02.rec \
	D03.rec \
	XF01.rec \
	XF011.rec \
	XFERR.rec \
	XFID1.rec \
 	Q04.rec \
 	T91.rec \
 	MUID.rec \
 	P02Y.rec \
 	P02Y1.rec \
 	W64.rec \
 	Z08.rec \
	W34.rec \
	XF01X.rec \
	Z100.rec \
	U012.rec \
	N21FIL.rec \
	W35.rec \
        W96.rec \
        I041.rec \
        KA02.rec \
        KA021.rec \
        M99.rec \
	W65.rec \
	W66.rec \
	X06.rec \
	Y011.rec \
	Y012.rec \
	YID1.rec \
	MID2.rec \
	P02G.rec \
	P02G2.rec \
	XFID2.rec \
	KT01.rec \
	KT011.rec \
	KT012.rec \
	KT013.rec \
	KT02.rec \
	KT03.rec \
	KT98.rec \
	KTERR.rec \
	KTERR2.rec \
	KTID1.rec \
	KTID2.rec \
	D04.rec \
	D05.rec \
	patientget.rec \
	appointmod.rec \
	P02K.rec \
	W67.rec \
	G05.rec \
	XG01.rec \
	XG02.rec \
	XG99.rec \
	XGERR.rec \
	XGID1.rec \
	K061.rec \
	K062.rec \
	MDAS.rec \
	MLOG.rec \
	MINF.rec \
	sessionend.rec \
	M80.rec \
	M80ERR.rec \
	M80ID1.rec \
	S07.rec \
	SID3.rec \
	U2ID1.rec \
	S08.rec \
	S09.rec \
	acceptmod.rec \
	print.rec \
	appointlst.rec \
	acceptlst.rec \
	Q02A.rec \
	Q02B.rec \
	patientmod.rec \
	medicatonmod.rec \
	W321.rec \
	patientlst1.rec \
	patientlst2.rec \
	patientlst3.rec \
	P02H.rec \
	system01lst.rec \
	CID6.rec \
	medicalget.rec \
	P02T.rec \
	W68.rec \
	diseaseget.rec \
	SID4.rec \
	_KDMY01.rec \
	_KADMY01.rec \
	_PDMY01.rec \
	_UDMY01.rec \
	S10.rec \
	W122.rec \
	_SDMY01.rec \
	medicalgetv2.rec \
	patientgetv2.rec \
	acceptlstv2.rec \
	patientlst1v2.rec \
	patientlst2v2.rec \
	patientlst3v2.rec \
	appointlstv2.rec \
	medicalgetv2.rec \
	diseasegetv2.rec \
	system01lstv2.rec \
	L06.rec \
	patientmodv2.rec \
	_LDMY01.rec \
	acceptmodv2.rec \
	appointmodv2.rec \
	medicatonmodv2.rec \
	subjectivesv2.rec \
	L07.rec \
	G07.rec \
	L100.rec \
	G100.rec \
	medicalmod.rec \
	medicalmodv2.rec \
	_XADMY01.rec \
	X07.rec \
	I411.rec \
	appointlst2v2.rec \
	acsimulatev2.rec \
	visitptlstv2.rec \
	hsconfbasev2.rec \
	hsconfwardv2.rec \
	C06.rec \

DEF_files = \

DB_files = \
	query_ptinf.db \
	tbl_adrs.db \
	tbl_byomei.db \
	tbl_chk.db \
	tbl_dbkanri.db \
	tbl_example.db \
	tbl_hkncombi.db \
	tbl_hknjainf.db \
	tbl_hknnum.db \
	tbl_inputcd.db \
	tbl_inputset.db \
	tbl_interact.db \
	tbl_jinmei.db \
	tbl_jobkanri.db \
	tbl_jyurrk.db \
	tbl_kensasort.db \
	tbl_kohsky.db \
	tbl_kyuseirrk.db \
	tbl_monthlynum.db \
	tbl_nyuinacct.db \
	tbl_nyuinact.db \
	tbl_nyuinkhn.db \
	tbl_nyuinryakusho.db \
	tbl_nyuksnchk.db \
	tbl_para.db \
	tbl_prtdata.db \
	tbl_prtkanri.db \
	tbl_ptbyomei.db \
	tbl_ptcom.db \
	tbl_pthkninf.db \
	tbl_ptinf.db \
	tbl_ptkohinf.db \
	tbl_ptnum.db \
	tbl_ptnyuinrrk.db \
	tbl_ptrsiinf.db \
	tbl_pttainfuka.db \
	tbl_rececom.db \
	tbl_recekanri.db \
	tbl_receprt.db \
	tbl_santei.db \
	tbl_sryact.db \
	tbl_srycdchg.db \
	tbl_srykarrk.db \
	tbl_sskijyo.db \
	tbl_sykrrk.db \
	tbl_syskanri.db \
	tbl_syumei.db \
	tbl_teikirrk.db \
	tbl_ptteikirrk.db \
	tbl_teikikanri.db \
	tbl_teikiprt.db \
	tbl_tensu.db \
	tbl_tensuplus.db \
	tbl_tnkrrk.db \
	tbl_tsyrrk.db \
	tbl_uketuke.db \
	tbl_userbyomei.db \
	tbl_wksryact.db \
	tbl_yakujyo.db \
	tbl_yyk.db \
	tbl_ldmap.db \
	tbl_lock.db \
	tbl_senteicdchg.db \
	tbl_ptkohftn.db \
	tbl_receden.db \
	tbl_kohplus.db \
	tbl_prvkanri.db \
	tbl_preview.db \
	view_I001.db \
	view_Q001.db \
	view_Q002.db \
	view_bd001.db \
	view_bd002.db \
	view_bd003.db \
        tbl_syuday.db \
        tbl_pgkanri.db \
        metadb.db \
	tbl_opecom.db \
	tbl_syutotal.db \
	blob.db \
	tbl_toukeimemo.db \
	tbl_btpara.db \
	tbl_order.db \
	tbl_help.db \
	query_dtchk.db \
	tbl_chksnd.db \
	tbl_receupd.db \
	tbl_orderprt.db \
	tbl_sryacctplus.db \
	tbl_jyurrk_prv.db \
	tbl_ptcom_prv.db \
	tbl_ptinf_prv.db \
	tbl_santei_prv.db \
	tbl_sryacct_prv.db \
	tbl_sryacctplus_prv.db \
	tbl_sryact_prv.db \
	tbl_srykarrk_prv.db \
	tbl_syumei_prv.db \
	tbl_syunou_prv.db \
	tbl_syutotal_prv.db \
	tbl_hours.db \
	tbl_chktrd.db \
	tbl_tekioubyomei.db \
	tbl_yakujyo_temp.db \
        tbl_syuka.db \
	query_teiki.db \
	tbl_chk004.db \
	tbl_odritem.db \
	tbl_ryocom.db \
	tbl_joblog.db \
	tbl_tensuplus2.db \
	tbl_genericname.db \
	tbl_syurrk.db \
	tbl_qrcdhkn.db \
	tbl_chk005.db \
	tbl_rece_puth.db \
	tbl_rece_putb.db \
	tbl_hktsantei.db \
	tbl_hktsrycd.db \
	tbl_clm_uid.db \
	tbl_sysuser.db \
	tbl_sysbase.db \
	tbl_mstkanri.db \
	tbl_ptmemoinf.db \
	tbl_file_info.db \
	tbl_csv_info.db \
	tbl_shoukaidata.db \
	tbl_shoukaikanri.db \
	tbl_ptkinki.db \
	tbl_prgoption.db \
	tbl_nrrksrh.db \
	tbl_nsrysrh.db \
	view_Q003.db \
	view_Q004.db \
	query_receprt.db \
	tbl_pttokki.db \
	tbl_cron.db \
	tbl_onrece_kanri.db \
	tbl_onrece_body.db \
	tbl_henrei_kanri.db \
	tbl_henrei_body.db \
	tbl_yykcom.db \
	tbl_yykexample.db \
	tbl_ptsame.db \
	tbl_sryacct_main.db \
	tbl_sryacct_sub.db \
	tbl_seikyu_etc.db \
	tbl_seikyu_koh.db \
	tbl_seikyu_main.db \
	tbl_syunou_main.db \
	tbl_syunou_nyuin.db \
	tbl_chkreigai.db \
	tbl_ptkohftnetc.db \
	tbl_bunben.db \
	tbl_toukeicsv_b.db \
	tbl_toukeicsv_h.db \
	xml_appointreq.db \
	xml_appointres.db \
	xml_patientinfores.db \
	tbl_santeiplus.db \
	system.db \
	tbl_infection.db \
	tbl_dbcatalog.db \
	tbl_ptsrh.db \
	tbl_srysrh.db \
	tbl_rrksrh.db \
	xml_acceptreq.db \
	xml_acceptres.db \
	xml_medicalres.db \
	xml_medicalreq.db \
	tbl_synonym.db \
	xml_appointlstreq.db \
	xml_appointlstres.db \
	xml_acceptlstreq.db \
	xml_acceptlstres.db \
	tbl_skysrh.db \
	xml_medicationreq.db \
	xml_medicationres.db \
	tbl_etensu_1.db \
	tbl_etensu_2.db \
	tbl_etensu_2_jma.db \
	tbl_etensu_2_off.db \
	tbl_etensu_2_sample.db \
	tbl_etensu_3_1.db \
	tbl_etensu_3_2.db \
	tbl_etensu_3_3.db \
	tbl_etensu_3_4.db \
	tbl_etensu_4.db \
	tbl_etensu_5.db \
	tbl_infection_judgment.db \
	xml_patientmodreq.db \
	xml_patientmodres.db \
	exec_sql.db \
	tbl_prtctrl.db \
	xml_patientlst1req.db \
	xml_patientlst1res.db \
	xml_patientlst2req.db \
	xml_patientlst2res.db \
	xml_patientlst3req.db \
	xml_system01_managereq.db \
	xml_departmentres.db \
	xml_physicianres.db \
	xml_medicalgetreq.db \
	xml_medicalget01res.db \
	xml_medicalget02res.db \
	xml_medicalget03res.db \
	tbl_pthknrrk.db \
	xml_disease_inforeq.db \
	xml_disease_infores.db \
	tbl_labor_sio.db \
	tbl_seikyu_rsi.db \
	tbl_generic_price.db \
	xml_medicalv2res.db \
	xml_medicalv2req.db \
	xml_acceptv2req.db \
	xml_acceptv2res.db \
	xml_patientinfov2res.db \
	xml_patientlst1v2req.db \
	xml_patientlst1v2res.db \
	xml_patientlst2v2req.db \
	xml_patientlst2v2res.db \
	xml_patientlst3v2req.db \
	xml_appointlstv2req.db \
	xml_appointlstv2res.db \
	xml_medicalgetv2req.db \
	xml_medicalget01v2res.db \
	xml_medicalget02v2res.db \
	xml_medicalget03v2res.db \
	xml_disease_infov2req.db \
	xml_disease_infov2res.db \
	xml_system01_managev2req.db \
	xml_departmentv2res.db \
	xml_physicianv2res.db \
	xml_patientmodv2req.db \
	xml_patientmodv2res.db \
	xml_acceptlstv2req.db \
	xml_acceptlstv2res.db \
	xml_appointv2req.db \
	xml_appointv2res.db \
	xml_medicationv2req.db \
	xml_medicationv2res.db \
	xml_subjectivesmodv2req.db \
	xml_subjectivesmodv2res.db \
	xml_appointlst2v2req.db \
	xml_appointlst2v2res.db \
	tbl_ptnum_public.db \
	xml_acsimulatev2req.db \
	xml_acsimulatev2res.db \
	tbl_mnote_h.db \
	tbl_mnote_b.db \
	tbl_ptconf.db \
	xml_visitptlstv2req.db \
	xml_visitptlst01v2res.db \
	xml_visitptlst02v2res.db \
	xml_hsconfbasev2req.db \
	xml_hsconfbasev2res.db \
	xml_hsconfroomv2res.db \
	xml_hsconfwardv2req.db \
	xml_hsconfwardv2res.db \
	tbl_byomeiinputset.db \

shell.db: shell.db.in
	sed -e 's,\@scriptsdir\@,$(scriptsdir),g' $< >$@

all: shell.db  

filecheck:
	@(for i in $(DEF_files) $(RECORD_files) $(DB_files) shell.db.in;do echo "make	$${i}"; done ;\
	find . \
	-name "." -o \
	-name "CVS" -prune -o \
	-name "Makefile*" -o \
	-name ".cvsignore" -o \
	-name "*.bak" -o \
	-name "shell.db" -o \
	-printf "file\t%f\n") \
	|sort -k2 |uniq -u -f1 

clean: 
	-rm -f shell.db

distclean: 
	-rm -f shell.db
	-rm -f Makefile

install: all
	$(INSTALL) -d $(recorddir)
	$(INSTALL_DATA) $(DEF_files) $(RECORD_files) $(DB_files) shell.db $(recorddir)
