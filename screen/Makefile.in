top_srcdir = @top_srcdir@
include $(top_srcdir)/Makefile.directories

INSTALL = @INSTALL@
INSTALL_DATA = @INSTALL_DATA@

SCREEN_sources = \
	M00.glade.in \
	M97.glade.in

SCREEN_screen = \
	C02.glade \
	C03.glade \
	C04.glade \
	C05.glade \
	C06.glade \
	C07.glade \
	C08.glade \
	C09.glade \
	C10.glade \
	CERR.glade \
	CID1.glade \
	CID2.glade \
	CID3.glade \
	CID4.glade \
	D01.glade \
	D99.glade \
	DERR.glade \
	DID1.glade \
	DID2.glade \
	E01.glade \
	E02.glade \
	EERR.glade \
	EID1.glade \
	EID2.glade \
	F01.glade \
	FERR.glade \
	FID1.glade \
	FID2.glade \
	G01.glade \
	G02.glade \
	G99.glade \
	GERR.glade \
	GID1.glade \
	GID2.glade \
	H01.glade \
	H99.glade \
	HERR.glade \
	I01.glade \
	I02.glade \
	I03.glade \
	I04.glade \
	I0ERR.glade \
	I0ID1.glade \
	I0ID2.glade \
	I20.glade \
	I21.glade \
	I2ERR.glade \
	I2ID1.glade \
	I41.glade \
	I4ERR.glade \
	I4ID1.glade \
	I51.glade \
	I5ERR.glade \
	I5ID1.glade \
	H01.glade \
	H99.glade \
	HID1.glade \
	HERR.glade \
	J02.glade \
	J021.glade \
	J022.glade \
	J023.glade \
	J024.glade \
	J03.glade \
	J04.glade \
	J041.glade \
	J042.glade \
	J98.glade \
	J99.glade \
	JERR.glade \
	JID1.glade \
	K01.glade \
	K02.glade \
	K02N.glade \
	K021.glade \
	K022.glade \
	K023.glade \
	K03.glade \
	K03X.glade \
	K04.glade \
	K05.glade \
	K051.glade \
	K052.glade \
	K06.glade \
	K07.glade \
	K08.glade \
	K09.glade \
	K10.glade \
	K98.glade \
	K99.glade \
	KERR.glade \
	KERR2.glade \
	KID1.glade \
	KID2.glade \
	L01.glade \
	L99.glade \
	LERR.glade \
	LID1.glade \
	LID2.glade \
	M01.glade \
	M01N.glade \
	M02.glade \
	M95.glade \
	M96.glade \
	MERR.glade \
	MID1.glade \
	MVER.glade \
	N01.glade \
	N11.glade \
	N11ERR.glade \
	N11ID1.glade \
	N21.glade \
	N21ERR.glade \
	N21ID1.glade \
	NERR.glade \
	NID1.glade \
	O01.glade \
	O02.glade \
	O03.glade \
	O99.glade \
	OERR.glade \
	OID1.glade \
	OID2.glade \
	P014.glade \
	P02.glade \
	P0201.glade \
	P02A.glade \
	P02D.glade \
	P02E.glade \
	P02F.glade \
	P100.glade \
	P97.glade \
	P97ERR.glade \
	P98.glade \
	P981.glade \
	P982.glade \
	P99.glade \
	PERR.glade \
	PID1.glade \
	Q01.glade \
	Q02.glade \
	Q100.glade \
	Q96.glade \
	Q97.glade \
	Q98.glade \
	Q99.glade \
	QERR.glade \
	QID1.glade \
	R01.glade \
	R02.glade \
	R03.glade \
	R04.glade \
	R98.glade \
	R99.glade \
	RERR.glade \
	RID1.glade \
	RID2.glade \
	RID3.glade \
	S02.glade \
	S03.glade \
	S03N.glade \
	SERR.glade \
	SID1.glade \
	T01.glade \
	T99.glade \
	TERR.glade \
	TID1.glade \
	TID2.glade \
	U01.glade \
	U02.glade \
	U1ERR.glade \
	U2ERR.glade \
	V01.glade \
	V02.glade \
	V03.glade \
	VERR.glade \
        VID1.glade \
        W01.glade \
        W02.glade \
        W03.glade \
        W04.glade \
        W05.glade \
        W06.glade \
        W07.glade \
        W08.glade \
        W09.glade \
        W10.glade \
        W11.glade \
        W12.glade \
        W13.glade \
        W14.glade \
        W20.glade \
        W21.glade \
        W22.glade \
        W23.glade \
        W24.glade \
        W25.glade \
        W26.glade \
        W27.glade \
        W28.glade \
        W98.glade \
        W99.glade \
        WERR.glade \
        WID1.glade \
        X01.glade \
        X02.glade \
        X98.glade \
        XA01.glade \
        XA99.glade \
        XAERR.glade \
        XAID1.glade \
        XAID2.glade \
        XB01.glade \
        XBER.glade \
        XBID.glade \
        XERR.glade \
        XC01.glade \
        XC99.glade \
        XCERR.glade \
        XCID1.glade \
        XID1.glade \
        Y01.glade \
        Y03.glade \
        Y04.glade \
        YERR.glade \
        Z01.glade \
        Z02.glade \
        Z03.glade \
        Z04.glade \
        Z05.glade \
        Z06.glade \
        Z90.glade \
        Z91.glade \
        Z97.glade \
        Z98.glade \
        Z99.glade \
        ZERR.glade \
        ZID1.glade \
        ZID2.glade \
        ZID3.glade \
        P02X.glade \
        U02X.glade \
        W15.glade \
	I42.glade \
	I43.glade \
	I44.glade \
	I45.glade \
	I46.glade \
	I47.glade \
	I48.glade \
	I49.glade \
	S04.glade \
	U1ID1.glade \
	Z07.glade \
        W16.glade \
	S05.glade \
	I22.glade \
	I23.glade \
	S06.glade \
        X91.glade \
        X97.glade \
        XID2.glade \

SCREEN_objs = $(SCREEN_sources:.glade.in=.glade)

SCREEN_files = $(SCREEN_objs) $(SCREEN_screen)

.SUFFIXES: .glade.in .glade

.glade.in.glade:
	sed -e 's,\@VERSION\@,$(VERSION),g' \
	$< > $@

all:	$(SCREEN_objs)

clean: 
	-rm -f $(SCREEN_objs)

distclean: clean
	-rm -f Makefile

filecheck:
	@(for i in $(SCREEN_screen) $(SCREEN_sources) ;do echo "make	$${i}"; done ;\
	find . \
	-name "." -o \
	-name "CVS" -prune -o \
	-name "Makefile*" -o \
	-name ".cvsignore" -o \
	-name "*.bak" -o \
	-name "M00.glade" -o \
	-name "M97.glade" -o \
	-name "build-stamp" -o \
	-printf "file\t%f\n") \
	|sort +1 |uniq -u -f1 

install: all
	$(INSTALL) -d $(screendir)
	$(INSTALL_DATA) $(SCREEN_files) $(screendir)
